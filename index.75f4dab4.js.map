{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAEMC,EAAiB,IAAI,E,WAAAC,SAErBC,EAAkBC,SAASC,cAAc,gBACzCC,EAAiBF,SAASC,cAAc,oBAC9CE,QAAQC,IAAIL,GACZ,IAAMM,EAAWL,SAASC,cAAc,mBAClCK,EAAWN,SAASC,cAAc,0B,SAMzBM,I,OAAAA,EAAfC,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAEpBC,EACAC,EAEAC,E,yEAHAF,EAAYD,EAAMI,OAAOC,QAAQ,eACjCH,EAAUD,EAAUK,QAAQC,QAClChB,QAAQC,IAAIU,G,SACWjB,EAAeuB,aAAaN,G,OAA7CC,EAAQM,EAAAC,KACdnB,QAAQC,IAAIW,GACZb,EAAeqB,UAAYC,EAAYT,GACvCU,I,4CARyBC,MAAAC,KAAAC,WAW3B,SAASJ,EAAYT,GA2CnB,MA1Ce,6EAKkBc,OAH/Bd,EAASe,YACV,uFAO+CD,OALfd,EAASgB,eAAe,uMAMXF,OADEd,EAASiB,aAAa,4DAMrBH,OALHd,EAASkB,WAAW,mKAUpDJ,OALmCd,EAASmB,WAAW,uJAU3BL,OAL5Bd,EAASgB,eACV,mIAYkBF,OARWd,EAASoB,OACpCC,KAAI,SAAAC,G,OAASA,EAAMC,QACnBC,KAAK,KAAK,uMAMwBV,OAAlBd,EAASyB,SAAS,4QAWnD,SAASf,IAEPpB,EAASoC,UAAUC,IAAI,WACvBrC,EAASoC,UAAUE,OAAO,aAjE5BxC,QAAQC,IAAIE,GAEZP,EAAgB6C,iBAAiB,S,SAGLhC,G,OAAbL,EAAYmB,MAAAC,KAAAC,cAF3BtB,EAASsC,iBAAiB,SAkE1B,WAGEvC,EAASoC,UAAUE,OAAO,WAC1BtC,EAASoC,UAAUC,IAAI,gB","sources":["src/js/modal.js"],"sourcesContent":["import NewsApiServise from './/api-service';\n\nconst newsApiServise = new NewsApiServise();\n\nconst moviesContainer = document.querySelector('.movies-home');\nconst modalContainer = document.querySelector('.modal-conteiner');\nconsole.log(moviesContainer);\nconst backdrop = document.querySelector('.backdrop-movie');\nconst closeBtn = document.querySelector('.modal-close-btn.close');\nconsole.log(closeBtn);\n\nmoviesContainer.addEventListener('click', onMovieClick);\ncloseBtn.addEventListener('click', onCloseModal);\n\nasync function onMovieClick(event) {\n  // event.preventDefault()\n  const movieCard = event.target.closest('.movie-card');\n  const movieId = movieCard.dataset.movieid;\n  console.log(movieId);\n  const response = await newsApiServise.getMovieInfo(movieId);\n  console.log(response);\n  modalContainer.innerHTML = renderMovie(response);\n  openModal();\n}\n\nfunction renderMovie(response) {\n  const markup = `\n   <img class=\"modal-conteiner-img\" src=\"https://image.tmdb.org/t/p/w500${\n    response.poster_path\n  }\" alt=\"card\">\n  <div class='card-container'>\n          <h2 class='card-title'>${response.original_title}</h2>\n          <ul class='card-list'>\n            <li class='card-item'>\n              Vote / Votes\n              <p class='card-item-vote'>\n                <span class='card-item-average'>${response.vote_average}</span>/\n                <span class='card-item-count'>${response.vote_count}</span>\n              </p>\n            </li>\n            <li class='card-item'>\n              Popularity\n              <span class='card-item-popularity'>${response.popularity}</span>\n            </li>\n            <li class='card-item'>\n              Original Title\n              <span class='card-item-original-title'>${\n                response.original_title\n              }</span>\n            </li>\n            <li class='card-item'>\n              Genre\n              <p class='card-item-genres'>${response.genres\n                .map(genre => genre.name)\n                .join(',')}\n                  <span class='card-item-genre'></span>\n              </p>\n            </li>\n          </ul>\n          <p class='card-description'>About</p>\n          <p class='card-text'>${response.overview}</p>\n          <div class='card-list-btn'>\n            <button type='button' class='card-btn-watched'>add to <br /> Watched</button>\n            <button type='button' class='card-btn-que'>add to queue</button>\n          </div>\n        </div>\n      </div>\n  `;\n  return markup;\n}\n\nfunction openModal() {\n  //  modalContainer.classList.add('is-open');\n  backdrop.classList.add('is-open');\n  backdrop.classList.remove('is-hidden');\n  // document.overflow = 'hidden';\n}\n\nfunction onCloseModal() {\n \n  // modalContainer.classList.remove('is-open');\n  backdrop.classList.remove('is-open');\n  backdrop.classList.add('is-hidden');\n\n}\n"],"names":["$bpxeT","parcelRequire","$40873ecf3c18e122$var$newsApiServise","default","$40873ecf3c18e122$var$moviesContainer","document","querySelector","$40873ecf3c18e122$var$modalContainer","console","log","$40873ecf3c18e122$var$backdrop","$40873ecf3c18e122$var$closeBtn","$40873ecf3c18e122$var$_onMovieClick","$parcel$interopDefault","$2TvXO","mark","_callee","event","movieCard","movieId","response","target","closest","dataset","movieid","getMovieInfo","_ctx","sent","innerHTML","$40873ecf3c18e122$var$renderMovie","$40873ecf3c18e122$var$openModal","apply","this","arguments","concat","poster_path","original_title","vote_average","vote_count","popularity","genres","map","genre","name","join","overview","classList","add","remove","addEventListener"],"version":3,"file":"index.75f4dab4.js.map"}