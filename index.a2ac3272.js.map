{"mappings":"oeAEA,MAAMA,EAAiB,IAAI,EAF3BC,EAAA,SAE2BC,SAErBC,EAAkBC,SAASC,cAAc,gBACzCC,EAAiBF,SAASC,cAAc,oBAC9CE,QAAQC,IAAIL,GACZ,MAAMM,EAAWL,SAASC,cAAc,mBAClCK,EAAWN,SAASC,cAAc,0BACxCE,QAAQC,IAAIE,GAEZP,EAAgBQ,iBAAiB,SAGjCC,eAA4BC,GAE1B,MACMC,EADYD,EAAME,OAAOC,QAAQ,eACbC,QAAQC,QAClCX,QAAQC,IAAIM,GACZ,MAAMK,QAAiBnB,EAAeoB,aAAaN,GACnDP,QAAQC,IAAIW,GACZb,EAAee,UAIjB,SAAqBF,GA2CnB,MA1Ce,6EAEbA,EAASG,8FAGsBH,EAASI,oNAKMJ,EAASK,uEACXL,EAASM,4KAKNN,EAASO,gKAK5CP,EAASI,gJAKmBJ,EAASQ,OACpCC,KAAIC,GAASA,EAAMC,OACnBC,KAAK,0MAMWZ,EAASa,mRAvCbC,CAAYd,GAoDvCV,EAASyB,UAAUC,IAAI,WACvB1B,EAASyB,UAAUE,OAAO,gBA9D5B1B,EAASC,iBAAiB,SAkE1B,WAGEF,EAASyB,UAAUE,OAAO,WAC1B3B,EAASyB,UAAUC,IAAI","sources":["src/js/modal.js"],"sourcesContent":["import NewsApiServise from './/api-service';\n\nconst newsApiServise = new NewsApiServise();\n\nconst moviesContainer = document.querySelector('.movies-home');\nconst modalContainer = document.querySelector('.modal-conteiner');\nconsole.log(moviesContainer);\nconst backdrop = document.querySelector('.backdrop-movie');\nconst closeBtn = document.querySelector('.modal-close-btn.close');\nconsole.log(closeBtn);\n\nmoviesContainer.addEventListener('click', onMovieClick);\ncloseBtn.addEventListener('click', onCloseModal);\n\nasync function onMovieClick(event) {\n  // event.preventDefault()\n  const movieCard = event.target.closest('.movie-card');\n  const movieId = movieCard.dataset.movieid;\n  console.log(movieId);\n  const response = await newsApiServise.getMovieInfo(movieId);\n  console.log(response);\n  modalContainer.innerHTML = renderMovie(response);\n  openModal();\n}\n\nfunction renderMovie(response) {\n  const markup = `\n   <img class=\"modal-conteiner-img\" src=\"https://image.tmdb.org/t/p/w500${\n    response.poster_path\n  }\" alt=\"card\">\n  <div class='card-container'>\n          <h2 class='card-title'>${response.original_title}</h2>\n          <ul class='card-list'>\n            <li class='card-item'>\n              Vote / Votes\n              <p class='card-item-vote'>\n                <span class='card-item-average'>${response.vote_average}</span>/\n                <span class='card-item-count'>${response.vote_count}</span>\n              </p>\n            </li>\n            <li class='card-item'>\n              Popularity\n              <span class='card-item-popularity'>${response.popularity}</span>\n            </li>\n            <li class='card-item'>\n              Original Title\n              <span class='card-item-original-title'>${\n                response.original_title\n              }</span>\n            </li>\n            <li class='card-item'>\n              Genre\n              <p class='card-item-genres'>${response.genres\n                .map(genre => genre.name)\n                .join(',')}\n                  <span class='card-item-genre'></span>\n              </p>\n            </li>\n          </ul>\n          <p class='card-description'>About</p>\n          <p class='card-text'>${response.overview}</p>\n          <div class='card-list-btn'>\n            <button type='button' class='card-btn-watched'>add to <br /> Watched</button>\n            <button type='button' class='card-btn-que'>add to queue</button>\n          </div>\n        </div>\n      </div>\n  `;\n  return markup;\n}\n\nfunction openModal() {\n  //  modalContainer.classList.add('is-open');\n  backdrop.classList.add('is-open');\n  backdrop.classList.remove('is-hidden');\n  // document.overflow = 'hidden';\n}\n\nfunction onCloseModal() {\n \n  // modalContainer.classList.remove('is-open');\n  backdrop.classList.remove('is-open');\n  backdrop.classList.add('is-hidden');\n\n}\n"],"names":["$8a7e756c566dd1ea$var$newsApiServise","parcelRequire","default","$8a7e756c566dd1ea$var$moviesContainer","document","querySelector","$8a7e756c566dd1ea$var$modalContainer","console","log","$8a7e756c566dd1ea$var$backdrop","$8a7e756c566dd1ea$var$closeBtn","addEventListener","async","event","movieId","target","closest","dataset","movieid","response","getMovieInfo","innerHTML","poster_path","original_title","vote_average","vote_count","popularity","genres","map","genre","name","join","overview","$8a7e756c566dd1ea$var$renderMovie","classList","add","remove"],"version":3,"file":"index.a2ac3272.js.map"}