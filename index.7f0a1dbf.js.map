{"mappings":"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","sources":["src/js/modal.js","src/js/local-storage.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js"],"sourcesContent":["import NewsApiServise from './/api-service';\nimport addWatchedFilmToLocaleStorage from './local-storage';\nconst newsApiServise = new NewsApiServise();\n\nconst moviesContainer = document.querySelector('.movies-home');\nconst modalContainer = document.querySelector('.modal-conteiner');\nconsole.log(moviesContainer);\nexport const backdrop = document.querySelector('.backdrop-movie');\nconst closeBtn = document.querySelector('.modal-close-btn.close');\nconsole.log(closeBtn);\n\n\nmoviesContainer.addEventListener('click', onMovieClick);\ncloseBtn.addEventListener('click', onCloseModal);\n\nasync function onMovieClick(event) {\n  // event.preventDefault()\n  const movieCard = event.target.closest('.movie-card');\n  const movieId = movieCard.dataset.movieid;\n  console.log(movieId);\n  const response = await newsApiServise.getMovieInfo(movieId);\n  console.log(response);\n  modalContainer.innerHTML = renderMovie(response);\n  openModal();\n  const watched = document.querySelector('.card-btn-watched');\nwatched.addEventListener('click', onLocalStorageWatched);\nconst que = document.querySelector('.card-btn-que');\nque.addEventListener('click', onLocalStorageQue);\n  addWatchedFilmToLocaleStorage(response);\n}\n\n\nfunction renderMovie(response) {\n  const markup = `\n   <img class=\"modal-conteiner-img\" src=\"https://image.tmdb.org/t/p/w500${\n     response.poster_path\n   }\" alt=\"card\">\n  <div class='card-container'>\n          <h2 class='card-title'>${response.original_title}</h2>\n          <ul class='card-list'>\n            <li class='card-item'>\n              Vote / Votes\n              <p class='card-item-vote'>\n                <span class='card-item-average'>${response.vote_average}</span>/\n                <span class='card-item-count'>${response.vote_count}</span>\n              </p>\n            </li>\n            <li class='card-item'>\n              Popularity\n              <span class='card-item-popularity'>${response.popularity}</span>\n            </li>\n            <li class='card-item'>\n              Original Title\n              <span class='card-item-original-title'>${\n                response.original_title\n              }</span>\n            </li>\n            <li class='card-item'>\n              Genre\n              <p class='card-item-genres'>${response.genres\n                .map(genre => genre.name).slice(0, 3).join(', ')}\n                <span class='card-item-genre'></span>\n              </p>\n            </li>\n          </ul>\n          <p class='card-description'>About</p>\n          <p class='card-text'>${response.overview}</p>\n          <div class='card-list-btn'>\n            <button type='button' class='card-btn-watched' data-movieId=${response.id}>add to <br /> Watched</button>\n            <button type='button' class='card-btn-que' data-movieId=${response.id}>add to queue</button>\n          </div>\n        </div>\n      </div>\n  `;\n  return markup;\n}\n\nfunction openModal() {\n  //  modalContainer.classList.add('is-open');\n  backdrop.classList.add('is-open');\n  backdrop.classList.remove('is-hidden');\n  // document.overflow = 'hidden';\n}\n\nexport function onCloseModal() {\n  // modalContainer.classList.remove('is-open');\n  backdrop.classList.remove('is-open');\n  backdrop.classList.add('is-hidden');\n}\n\n\n// добавляє фільм при кліку в LocalStrage\n\n\nconst buttonLabelWatchedAdd = 'add to Watched';\nconst buttonLabelWatchedRemove = 'remove from Watched';\nconst buttonLabelQueuedAdd = 'add to Queue';\nconst buttonLabelQueueRemove = 'remove from Queue';\n\n\n\nfunction onLocalStorageWatched(event) {\n  const watchedButton = event.target;\n  const movieId = event.target.dataset.movieid;\n  console.log(movieId);\n  \n  const watchedMovies = localStorage.getItem('watchedMovies');\n  const watchedMoviesArray = JSON.parse(watchedMovies) || [];\n  console.log(watchedMoviesArray);\n  if (watchedMoviesArray.includes(movieId)) {\n    watchedMoviesArray.splice(watchedMoviesArray.indexOf(movieId), 1);\n    watchedButton.innerText = buttonLabelWatchedAdd;\n  } else {\n    watchedMoviesArray.push(movieId);\n    watchedButton.innerText = buttonLabelWatchedRemove;\n  }\n  localStorage.setItem('watchedMovies', JSON.stringify(watchedMoviesArray));\n  console.log(watchedMoviesArray);\n}\n\n\nfunction onLocalStorageQue(event) {\n  const queuedButton = event.target;\n  const movieId = event.target.dataset.movieid;\n  const queuedMovies = localStorage.getItem('queuedMovies');\n  const queuedMoviesArray = JSON.parse(queuedMovies) || [];\n  // console.log(queuedMoviesArray);\n  if (queuedMoviesArray.includes(movieId)) {\n    queuedMoviesArray.splice(queuedMoviesArray.indexOf(movieId), 1);\n    queuedButton.innerText = buttonLabelQueuedAdd;\n  } else {\n    queuedMoviesArray.push(movieId);\n    queuedButton.innerText = buttonLabelQueueRemove;\n  }\n  localStorage.setItem('queuedMovies', JSON.stringify(queuedMoviesArray));\n  console.log(queuedMoviesArray);\n}\n\n\n\n\n\n\n\n","let watchedFilms = [];\n\nexport default function addWatchedFilmToLocaleStorage(filmData) {\n\n    const btnWatched = document.querySelector('.card-btn-watched');\n\n    btnWatched.addEventListener('click', onBtnWatchedClick);\n\nfunction onBtnWatchedClick(e) {\n    try {\n        watchedFilms = [...JSON.parse(localStorage.getItem('watched'))];\n    } catch (error) {\n        watchedFilms = [];\n    }\n\n    for (const film of watchedFilms) {\n        if (filmData.id === film.id) {\n            const filteredFilm = watchedFilms.filter(film => film.id !== filmData.id);\n            watchedFilms = [...filteredFilm];\n            localStorage.setItem('watched', JSON.stringify(watchedFilms));\n            return;\n        }\n    }\n    watchedFilms.push(filmData);\n    localStorage.setItem('watched', JSON.stringify(watchedFilms));\n}\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["$bpxeT","parcelRequire","$40873ecf3c18e122$var$newsApiServise","$1h2Gi","default","$40873ecf3c18e122$var$moviesContainer","document","querySelector","$40873ecf3c18e122$var$modalContainer","console","log","$40873ecf3c18e122$export$48e901322468f6d5","$40873ecf3c18e122$var$closeBtn","$40873ecf3c18e122$var$_onMovieClick","$parcel$interopDefault","$2TvXO","mark","_callee","event","movieCard","movieId","response","target","closest","dataset","movieid","getMovieInfo","_ctx","sent","innerHTML","$40873ecf3c18e122$var$renderMovie","$40873ecf3c18e122$var$openModal","addEventListener","$40873ecf3c18e122$var$onLocalStorageWatched","$40873ecf3c18e122$var$onLocalStorageQue","$4LMMA","apply","this","arguments","concat","poster_path","original_title","vote_average","vote_count","popularity","genres","map","genre","name","slice","join","overview","id","classList","add","remove","$40873ecf3c18e122$export$9dc820945641dd09","watchedButton","watchedMovies","localStorage","getItem","watchedMoviesArray","JSON","parse","includes","splice","indexOf","innerText","push","setItem","stringify","queuedButton","queuedMovies","queuedMoviesArray","$8nrFW","$3791646d3ae2cee8$var$watchedFilms","$3791646d3ae2cee8$export$2e2bcd8739ae039","filmData","e","error","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","film1","value","filteredFilm","filter","film","err","return","Object","defineProperty","module","exports","arr","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","obj","__esModule","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","len","length","i","arr2","iter","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","constructor","test"],"version":3,"file":"index.7f0a1dbf.js.map"}